{"ast":null,"code":"export default {\n  data() {\n    return {\n      comments: {},\n      commentsnew: ''\n    };\n  },\n\n  methods: {\n    async addcomment() {\n      await fetch('http://localhost:8080/ticket-now/add-message', {\n        body: {\n          'ticketId': this.ticketId,\n          'message': {\n            'userId': 'axa30590',\n            'username': 'Akash',\n            'comment': 'This is a test comment '\n          }\n        },\n        headers: {\n          'Accept': 'application/json, text/plain',\n          'Content-Type': 'application/json;charset=UTF-8',\n          'ticketId': this.ticketId\n        },\n        method: 'POST',\n        mode: 'cors'\n      }).then(res => res.json()).then(data => {\n        this.comments = data.message; // eslint-disable-next-line\n\n        console.log(this.comments);\n      }). // eslint-disable-next-line\n      catch(error => console.log(error));\n    },\n\n    async fetchChat() {\n      // eslint-disable-next-line\n      console.log(this.ticketId);\n      await fetch('http://localhost:8080/ticket-now/get-chats', {\n        headers: {\n          'Accept': 'application/json, text/plain',\n          'Content-Type': 'application/json;charset=UTF-8',\n          'ticketId': this.ticketId\n        },\n        method: 'get',\n        mode: 'cors'\n      }).then(res => res.json()).then(data => {\n        this.comments = data.message; // eslint-disable-next-line\n\n        console.log(this.comments);\n      }). // eslint-disable-next-line\n      catch(error => console.log(error));\n    }\n\n  },\n\n  mounted() {\n    // eslint-disable-next-line\n    console.log(this.ticketId);\n    this.fetchChat();\n  },\n\n  name: 'CommentsChat',\n  props: {\n    ticketId: String\n  }\n};","map":{"version":3,"mappings":"AAoDA,eAAe;EAACA,IAAG,GAAK;IAEtB,OAAO;MAELC,QAAQ,EAAE,EAFL;MAGLC,WAAW,EAAE;IAHR,CAAP;EAQD,CAVc;;EAWfC,OAAO,EAAE;IACP,MAAMC,UAAN,GAAoB;MAElB,MAAMC,KAAK,CACT,8CADS,EAET;QAACC,IAAI,EAAE;UAAC,YAAY,KAAKC,QAAlB;UACL,WACA;YACE,UAAU,UADZ;YAEE,YAAY,OAFd;YAGE,WAAW;UAHb;QAFK,CAAP;QAOAC,OAAO,EAAE;UAAC,UAAU,8BAAX;UACP,gBAAgB,gCADT;UAEP,YAAY,KAAKD;QAFV,CAPT;QAUAE,MAAM,EAAE,MAVR;QAWAC,IAAI,EAAE;MAXN,CAFS,CAAL,CAcJC,IAdI,CAcEC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAdV,EAeJF,IAfI,CAeEX,IAAD,IAAU;QAEb,KAAKC,QAAL,GAAgBD,IAAI,CAACc,OAArB,CAFa,CAGb;;QACQC,OAAO,CAACC,GAAR,CAAY,KAAKf,QAAjB;MACT,CApBG,GAqBJ;MACEgB,KAtBE,CAsBKC,KAAD,IAAWH,OAAO,CAACC,GAAR,CAAYE,KAAZ,CAtBf,CAAN;IAwBD,CA3BM;;IA6BP,MAAMC,SAAN,GAAmB;MAEjB;MACJJ,OAAO,CAACC,GAAR,CAAY,KAAKT,QAAjB;MAEI,MAAMF,KAAK,CACT,4CADS,EAET;QAACG,OAAO,EAAE;UAAC,UAAU,8BAAX;UACR,gBAAgB,gCADR;UAER,YAAY,KAAKD;QAFT,CAAV;QAGAE,MAAM,EAAE,KAHR;QAIAC,IAAI,EAAE;MAJN,CAFS,CAAL,CAOJC,IAPI,CAOEC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAPV,EAQJF,IARI,CAQEX,IAAD,IAAU;QAEb,KAAKC,QAAL,GAAgBD,IAAI,CAACc,OAArB,CAFa,CAGb;;QACQC,OAAO,CAACC,GAAR,CAAY,KAAKf,QAAjB;MACT,CAbG,GAcJ;MACEgB,KAfE,CAeKC,KAAD,IAAWH,OAAO,CAACC,GAAR,CAAYE,KAAZ,CAff,CAAN;IAgBD;;EAlDM,CAXM;;EAiEfE,OAAM,GAAK;IAET;IACAL,OAAO,CAACC,GAAR,CAAY,KAAKT,QAAjB;IACA,KAAKY,SAAL;EAED,CAvEc;;EAwEfE,IAAI,EAAE,cAxES;EAyEfC,KAAK,EAAE;IACLf,QAAQ,EAAEgB;EADL;AAzEQ,CAAf","names":["data","comments","commentsnew","methods","addcomment","fetch","body","ticketId","headers","method","mode","then","res","json","message","console","log","catch","error","fetchChat","mounted","name","props","String"],"sourceRoot":"","sources":["/Users/suhasdhar/Desktop/Development/TicketNow_front/ticket_now/src/components/CommentsChat.vue"],"sourcesContent":["<template>\n<div>\n    <br><br>\n    <div class=\"comment-box\">\n\n        <div class=\"comment-thread\" v-for=\"item in this.comments\" :key=\"item\">\n    <!-- Comment 1 start -->\n    <div class=\"comment\" id=\"comment-1\">\n        <div class=\"comment-heading\">\n            <div class=\"comment-voting\">\n                <button type=\"button\">\n                    <span aria-hidden=\"true\">&#9650;</span>\n                    <span class=\"sr-only\">Vote up</span>\n                </button>\n                <button type=\"button\">\n                    <span aria-hidden=\"true\">&#9660;</span>\n                    <span class=\"sr-only\">Vote down</span>\n                </button>\n            </div>\n            <div class=\"comment-info\">\n                <a href=\"#\" class=\"comment-author\">{{item.username}}</a>\n            </div>\n        </div>\n\n        <div class=\"comment-body\">\n            <p>\n               {{item.comment}}\n            </p>\n        </div>\n\n    </div>\n    <!-- Comment 1 end -->\n    </div>\n\n</div>\n\n<br><br>\n    <textarea\n            cols=\"50\"\n            rows=\"10\"\n            id:=\"comment-textbox\"\n            required\n            placeholder=\"Add your comment\"\n            v-model=\"commentsnew\"\n          />\n          <br><br>\n          <button @click=\"addcomment()\"> Add Comment</button>\n</div>\n\n</template>\n\n<script>\nexport default {data () {\n\n  return {\n\n    comments: {},\n    commentsnew: ''\n\n\n  };\n\n},\nmethods: {\n  async addcomment () {\n\n    await fetch(\n      'http://localhost:8080/ticket-now/add-message',\n      {body: {'ticketId': this.ticketId,\n        'message':\n        {\n          'userId': 'axa30590',\n          'username': 'Akash',\n          'comment': 'This is a test comment '\n        }},\n      headers: {'Accept': 'application/json, text/plain',\n        'Content-Type': 'application/json;charset=UTF-8',\n        'ticketId': this.ticketId},\n      method: 'POST',\n      mode: 'cors'}\n    ).then((res) => res.json()).\n      then((data) => {\n\n        this.comments = data.message;\n        // eslint-disable-next-line\n                console.log(this.comments);\n      }).\n      // eslint-disable-next-line\n        catch((error) => console.log(error));\n\n  },\n\n  async fetchChat () {\n\n    // eslint-disable-next-line\nconsole.log(this.ticketId)\n\n    await fetch(\n      'http://localhost:8080/ticket-now/get-chats',\n      {headers: {'Accept': 'application/json, text/plain',\n        'Content-Type': 'application/json;charset=UTF-8',\n        'ticketId': this.ticketId},\n      method: 'get',\n      mode: 'cors'}\n    ).then((res) => res.json()).\n      then((data) => {\n\n        this.comments = data.message;\n        // eslint-disable-next-line\n                console.log(this.comments);\n      }).\n      // eslint-disable-next-line\n        catch((error) => console.log(error));\n  },\n\n},\n\nmounted () {\n\n  // eslint-disable-next-line\n  console.log(this.ticketId);\n  this.fetchChat();\n\n},\nname: 'CommentsChat',\nprops: {\n  ticketId: String\n}};\n\n\n</script>\n\n<style : scoped>\n/*\n    Body, button, comment-thread, and utilities\n\n    Notes:\n        - This section sets some basic styles. You can ignore this part and\n        go directly to the comment styles.\n*/\n\n* {\n    box-sizing: border-box;\n}\nbody {\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n    line-height: 1.4;\n    color: rgba(0, 0, 0, 0.85);\n    background-color: #f9f9f9;\n\n}\nbutton {\n    -moz-appearance: none;\n    -webkit-appearance: none;\n    appearance: none;\n    font-size: 14px;\n    padding: 4px 8px;\n    color: rgba(0, 0, 0, 0.85);\n    background-color: #fff;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 4px;\n}\nbutton:hover,\nbutton:focus,\nbutton:active {\n    cursor: pointer;\n    background-color: #ecf0f1;\n}\n.comment-thread {\n    width: 700px;\n    max-width: 100%;\n    margin: auto;\n    padding: 0 30px;\n    background-color: #fff;\n    border: 1px solid transparent; /* Removes margin collapse */\n}\n.m-0 {\n    margin: 0;\n}\n.sr-only {\n    position: absolute;\n    left: -10000px;\n    top: auto;\n    width: 1px;\n    height: 1px;\n    overflow: hidden;\n}\n\n/* Comment */\n\n.comment {\n    position: relative;\n    margin: 20px auto;\n}\n.comment-heading {\n    display: flex;\n    align-items: center;\n    height: 50px;\n    font-size: 14px;\n}\n.comment-voting {\n    width: 20px;\n    height: 32px;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 4px;\n}\n.comment-voting button {\n    display: block;\n    width: 100%;\n    height: 50%;\n    padding: 0;\n    border: 0;\n    font-size: 10px;\n}\n.comment-info {\n    color: rgba(0, 0, 0, 0.5);\n    margin-left: 10px;\n}\n.comment-author {\n    color: rgba(0, 0, 0, 0.85);\n    font-weight: bold;\n    text-decoration: none;\n}\n.comment-author:hover {\n    text-decoration: underline;\n}\n.replies {\n    margin-left: 20px;\n}\n\n</style>\n"]},"metadata":{},"sourceType":"module"}