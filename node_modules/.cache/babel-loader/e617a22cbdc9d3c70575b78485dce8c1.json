{"ast":null,"code":"import CreateTicket from './components/CreateTicket.vue';\nimport HelloWorld from './components/HelloWorld.vue';\nimport NavBar from './components/NavBar.vue';\nexport default {\n  components: {\n    CreateTicket,\n    HelloWorld,\n    NavBar\n  },\n  computed: {},\n\n  data() {\n    return {\n      data: {\n        'suhas': 'Rajul123.',\n        // eslint-disable-next-line sort-keys\n        'userCode': '' // eslint-disable-next-line sort-keys\n        // eslint-disable-next-line sort-keys\n\n      },\n      displayTickets: true,\n      failed: false,\n      isAdmin: false,\n      login: false,\n      pass: '',\n      userID: '',\n      username: ''\n    };\n  },\n\n  methods: {\n    disappearTickets(status) {\n      if (status === null) {\n        this.login = false;\n        this.failed = false;\n        this.isAdmin = false;\n      }\n\n      this.displayTickets = status;\n    },\n\n    async fun() {\n      let user = {};\n      await fetch('http://localhost:8080/ticket-now/auth/signin', {\n        body: JSON.stringify({\n          'password': this.pass,\n          'userId': this.userID\n        }),\n        headers: {\n          'Accept': 'application/json, text/plain',\n          'Content-Type': 'application/json;charset=UTF-8'\n        },\n        method: 'POST',\n        mode: 'cors'\n      }).then(res => res.json()).then(data => {\n        user = data;\n      }).then(() => {\n        // eslint-disable-next-line no-magic-numbers\n        if (user.roles[0] === 'ROLE_ADMIN') {\n          this.isAdmin = true; // eslint-disable-next-line\n\n          console.log(user.roles[0]);\n        }\n\n        if (user.usernameAndPasswordMatches) {\n          this.login = true;\n          this.userCode = this.userID;\n          this.displayTickets = true;\n          this.username = user.username;\n        }\n      }).catch(() => {\n        this.failed = true;\n        this.login = false;\n      }); // eslint-disable-next-line\n      //  console.log(this.isAdmin)\n    }\n\n  },\n  name: 'App'\n};","map":{"version":3,"mappings":"AAyBA,OAAOA,YAAP,MAAyB,+BAAzB;AACA,OAAOC,UAAP,MAAuB,6BAAvB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,eAAe;EACbC,UAAU,EAAE;IACVH,YADU;IAEVC,UAFU;IAGVC;EAHU,CADC;EAMbE,QAAQ,EAAE,EANG;;EAQbC,IAAG,GAAK;IAEN,OAAO;MACLA,IAAI,EAAE;QACJ,SAAS,WADL;QAEJ;QACA,YAAY,EAHR,CAIJ;QAGA;;MAPI,CADD;MAULC,cAAc,EAAE,IAVX;MAWLC,MAAM,EAAE,KAXH;MAYLC,OAAO,EAAE,KAZJ;MAaLC,KAAK,EAAE,KAbF;MAcLC,IAAI,EAAE,EAdD;MAeLC,MAAM,EAAE,EAfH;MAgBLC,QAAQ,EAAE;IAhBL,CAAP;EAqBD,CA/BY;;EAgCbC,OAAO,EAAE;IACPC,gBAAe,CAAGC,MAAH,EAAW;MAExB,IAAIA,MAAK,KAAM,IAAf,EAAqB;QAEnB,KAAKN,KAAL,GAAa,KAAb;QACA,KAAKF,MAAL,GAAc,KAAd;QACA,KAAKC,OAAL,GAAe,KAAf;MAEF;;MACA,KAAKF,cAAL,GAAsBS,MAAtB;IAED,CAZM;;IAaP,MAAMC,GAAN,GAAa;MAEX,IAAIC,IAAG,GAAI,EAAX;MACA,MAAMC,KAAK,CACT,8CADS,EAET;QACEC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;UACnB,YAAY,KAAKX,IADE;UAEnB,UAAU,KAAKC;QAFI,CAAf,CADR;QAKEW,OAAO,EAAE;UAAC,UAAU,8BAAX;UACP,gBAAgB;QADT,CALX;QAOEC,MAAM,EAAE,MAPV;QAQEC,IAAI,EAAE;MARR,CAFS,CAAL,CAYJC,IAZI,CAYEC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAZV,EAaJF,IAbI,CAaEpB,IAAD,IAAU;QAEbY,IAAG,GAAIZ,IAAP;MAED,CAjBG,EAkBJoB,IAlBI,CAkBC,MAAM;QAET;QACA,IAAIR,IAAI,CAACW,KAAL,CAAW,CAAX,MAAkB,YAAtB,EAAoC;UAElC,KAAKpB,OAAL,GAAe,IAAf,CAFkC,CAGlC;;UACEqB,OAAO,CAACC,GAAR,CAAYb,IAAI,CAACW,KAAL,CAAW,CAAX,CAAZ;QACJ;;QACA,IAAIX,IAAI,CAACc,0BAAT,EAAqC;UAEnC,KAAKtB,KAAL,GAAa,IAAb;UACA,KAAKuB,QAAL,GAAgB,KAAKrB,MAArB;UACA,KAAKL,cAAL,GAAsB,IAAtB;UACA,KAAKM,QAAL,GAAgBK,IAAI,CAACL,QAArB;QAEF;MAED,CApCG,EAqCJqB,KArCI,CAqCE,MAAM;QAEV,KAAK1B,MAAL,GAAc,IAAd;QACA,KAAKE,KAAL,GAAa,KAAb;MAED,CA1CG,CAAN,CAHW,CA8CX;MACA;IACF;;EA7DO,CAhCI;EAgGbyB,IAAI,EAAE;AAhGO,CAAf","names":["CreateTicket","HelloWorld","NavBar","components","computed","data","displayTickets","failed","isAdmin","login","pass","userID","username","methods","disappearTickets","status","fun","user","fetch","body","JSON","stringify","headers","method","mode","then","res","json","roles","console","log","usernameAndPasswordMatches","userCode","catch","name"],"sourceRoot":"","sources":["/Users/suhasdhar/Desktop/Development/TicketNow_front/ticket_now/src/App.vue"],"sourcesContent":["<!-- eslint-disable max-lines-per-function -->\n<template>\n  <div> <img  class=\"bg\" src=\"./assets/service-tool-icon-on-white-background-vector-22746653.jpg\" />\n    <div id=\"app\">\n  <div v-if=\"this.login\" > <NavBar v-on:create-new-ticket=\"disappearTickets($event)\" msg=\"hey\" :isadmin=\"isadmin\"/> </div><br>\n  <div v-if=\"this.login === false\">\n    <img  alt=\"Ticket Now\" src=\"./assets/ticket.png\" />\n    <HelloWorld msg=\"Ticket Now!\" />\n    <input type=\"text\" placeholder=\"username\" v-model=\"this.userID\">  <input type=\"password\"  placeholder=\"password\"  v-model=\"this.pass\" name=\"\" id=\"\"><br>\n    <button :onclick=\"fun\" text=\"login\">login</button>\n    <h1 v-if=\"login\" > logged in </h1>\n    <h3 v-else-if=\"failed\"> Bad Credentials</h3>\n  </div>\n  <div v-else>\n   <div>\n    </div>\n    <div  v-if=\"displayTickets\"><CreateTicket msg='view' :admin='this.isAdmin'  :id='this.userCode'/></div>\n     <div v-else><CreateTicket msg='create' :admin='this.isAdmin'  :id=\"this.userCode\" /></div>\n     </div>\n</div>\n\n  </div>\n\n</template>\n<script>\nimport CreateTicket from './components/CreateTicket.vue';\nimport HelloWorld from './components/HelloWorld.vue';\nimport NavBar from './components/NavBar.vue';\nexport default {\n  components: {\n    CreateTicket,\n    HelloWorld,\n    NavBar,\n  },\n  computed: {\n  },\n  data () {\n\n    return {\n      data: {\n        'suhas': 'Rajul123.',\n        // eslint-disable-next-line sort-keys\n        'userCode': '',\n        // eslint-disable-next-line sort-keys\n\n\n        // eslint-disable-next-line sort-keys\n      },\n      displayTickets: true,\n      failed: false,\n      isAdmin: false,\n      login: false,\n      pass: '',\n      userID: '',\n      username: '',\n\n\n    };\n\n  },\n  methods: {\n    disappearTickets (status) {\n\n      if (status === null) {\n\n        this.login = false;\n        this.failed = false;\n        this.isAdmin = false;\n\n      }\n      this.displayTickets = status;\n\n    },\n    async fun () {\n\n      let user = {};\n      await fetch(\n        'http://localhost:8080/ticket-now/auth/signin',\n        {\n          body: JSON.stringify({\n            'password': this.pass,\n            'userId': this.userID,\n          }),\n          headers: {'Accept': 'application/json, text/plain',\n            'Content-Type': 'application/json;charset=UTF-8'},\n          method: 'POST',\n          mode: 'cors'\n        }\n      ).then((res) => res.json()).\n        then((data) => {\n\n          user = data;\n\n        }).\n        then(() => {\n\n          // eslint-disable-next-line no-magic-numbers\n          if (user.roles[0] === 'ROLE_ADMIN') {\n\n            this.isAdmin = true;\n            // eslint-disable-next-line\n              console.log(user.roles[0])\n          }\n          if (user.usernameAndPasswordMatches) {\n\n            this.login = true;\n            this.userCode = this.userID;\n            this.displayTickets = true;\n            this.username = user.username;\n\n          }\n\n        }).\n        catch(() => {\n\n          this.failed = true;\n          this.login = false;\n\n        });\n      // eslint-disable-next-line\n      //  console.log(this.isAdmin)\n    }\n\n  },\n  name: 'App',\n};\n\n</script>\n\n<style : scoped>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n#headerImage{\n  position: absolute;\n      right: 0px;\n      height: 30px;\n\n}\nimg.bg {\n      position: absolute;\n      left: 0px;\n      top: 0px;\n      z-index: -1;\n      width: 100%;\n      height: 100%;\n      -webkit-filter: blur(30px); /* Safari 6.0 - 9.0 */\n      filter: blur(100px);\n      }\nimg {\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  padding: 5px;\n  width: 150px;\n}\n#newticket {\n\n  float: right;\n  margin-left: auto;\n  margin-right: 0;\n}\n\n</style>\n"]},"metadata":{},"sourceType":"module"}