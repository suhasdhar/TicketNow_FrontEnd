{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-29486cc8\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_3 = {\n  class: \"comment-box\"\n};\nconst _hoisted_4 = {\n  class: \"comment\",\n  id: \"comment-1\"\n};\nconst _hoisted_5 = {\n  class: \"comment-heading\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"comment-voting\\\" data-v-29486cc8><button type=\\\"button\\\" data-v-29486cc8><span aria-hidden=\\\"true\\\" data-v-29486cc8>▲</span><span class=\\\"sr-only\\\" data-v-29486cc8>Vote up</span></button><button type=\\\"button\\\" data-v-29486cc8><span aria-hidden=\\\"true\\\" data-v-29486cc8>▼</span><span class=\\\"sr-only\\\" data-v-29486cc8>Vote down</span></button></div>\", 1);\n\nconst _hoisted_7 = {\n  class: \"comment-info\"\n};\nconst _hoisted_8 = {\n  href: \"#\",\n  class: \"comment-author\"\n};\nconst _hoisted_9 = {\n  class: \"comment-body\"\n};\n\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_15 = {\n  key: 0,\n  class: \"error\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, _hoisted_2, _createElementVNode(\"div\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.comments, item => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"comment-thread\",\n      key: item\n    }, [_createCommentVNode(\" Comment 1 start \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"a\", _hoisted_8, _toDisplayString(item.username), 1\n    /* TEXT */\n    )])]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"p\", null, _toDisplayString(item.comment), 1\n    /* TEXT */\n    )])]), _createCommentVNode(\" Comment 1 end \"), _hoisted_10]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))]), _hoisted_11, _hoisted_12, _withDirectives(_createElementVNode(\"textarea\", {\n    cols: \"50\",\n    rows: \"10\",\n    \"id:\": \"comment-textbox\",\n    required: \"\",\n    placeholder: \"Add your comment\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.commentsnew = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.commentsnew]]), _hoisted_13, _hoisted_14, _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = $event => $options.addcomment())\n  }, \" Add Comment\"), this.nocommenterrot ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, \" The comment cant be empty\")) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"mappings":";;;;gEAEIA,oBAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI;AAAA;AAAJ;;gEAAIA,oBAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI;AAAA;AAAJ;;;EACCC,KAAK,EAAC;;;EAINA,KAAK,EAAC;EAAUC,EAAE,EAAC;;;EACfD,KAAK,EAAC;;;;;;EAWFA,KAAK,EAAC;;;EACJE,IAAI,EAAC;EAAIF,KAAK,EAAC;;;EAIrBA,KAAK,EAAC;;;iEAQfD,oBAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI;AAAA;AAAJ;;iEAKJA,oBAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI;AAAA;AAAJ;;iEAAIA,oBAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI;AAAA;AAAJ;;iEASMA,oBAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI;AAAA;AAAJ;;iEAAIA,oBAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI;AAAA;AAAJ;;;;EAE4BC,KAAK,EAAC;;;uBA/ChDG,oBAgDM,KAhDN,EAgDM,IAhDN,EAgDM,CA/CFC,UA+CE,EA/CEC,UA+CF,EA9CFN,oBAgCE,KAhCF,cAgCE,oBA9BEI,oBA4BEG,SA5BF,EA4BE,IA5BF,EA4BEC,iBA5B8CC,QA4B9C,EA5BiCC,IAAqB,IAAjB;yBAAvCN,oBA4BE,KA5BF,EA4BE;MA5BGH,KAAK,EAAC,gBA4BT;MA5ByDU,GAAG,EAAED;IA4B9D,CA5BF,GACJE,0CACAZ,oBAuBM,KAvBN,cAuBM,CAtBFA,oBAcM,KAdN,cAcM,CAbFa,UAaE,EAHFb,oBAEM,KAFN,cAEM,CADFA,oBAAwD,GAAxD,cAAwDc,iBAAnBJ,IAAI,CAACK,QAAc,CAAxD,EAAkD;IAAA;IAAlD,CACE,CAFN,CAGE,CAdN,CAsBE,EANFf,oBAIM,KAJN,cAIM,CAHFA,oBAEI,GAFJ,EAEI,IAFJ,EAEIc,iBADCJ,IAAI,CAACM,OACN,CAFJ,EACiB;IAAA;IADjB,CAGE,CAJN,CAME,CAvBN,GAwBAJ,wCACAK,YA3BI;GA4BE,CA5BF;;EAAA,CA8BF,EAhCF,CA8CE,EAZNC,WAYM,EAZFC,WAYE,kBAXFnB,oBAOQ,UAPR,EAOQ;IANAoB,IAAI,EAAC,IAML;IALAC,IAAI,EAAC,IAKL;IAJA,OAAI,iBAIJ;IAHAC,QAAQ,EAAR,EAGA;IAFAC,WAAW,EAAC,kBAEZ;+DADSC,oBAAWC;EACpB,CAPR;;EAAA,kBAMiBD,oBAKf,EAHIE,WAGJ,EAHQC,WAGR,EAFI3B,oBAAmD,QAAnD,EAAmD;IAA1C4B,OAAK,sCAAEC,qBAAF;EAAqC,CAAnD,EAA8B,cAA9B,CAEJ,OADoBC,gCAAhB1B,oBAA8E,KAA9E,eAA8C,4BAA9C,sCACJ,CAhDN","names":["_createElementVNode","class","id","href","_createElementBlock","_hoisted_1","_hoisted_2","_Fragment","_renderList","comments","item","key","_createCommentVNode","_hoisted_6","_toDisplayString","username","comment","_hoisted_10","_hoisted_11","_hoisted_12","cols","rows","required","placeholder","$data","$event","_hoisted_13","_hoisted_14","onClick","$options","nocommenterrot"],"sourceRoot":"","sources":["/Users/suhasdhar/Desktop/Development/TicketNow_front/ticket_now/src/components/CommentsChat.vue"],"sourcesContent":["<template>\n<div>\n    <br><br>\n    <div class=\"comment-box\">\n\n        <div class=\"comment-thread\" v-for=\"item in this.comments\" :key=\"item\">\n    <!-- Comment 1 start -->\n    <div class=\"comment\" id=\"comment-1\">\n        <div class=\"comment-heading\">\n            <div class=\"comment-voting\">\n                <button type=\"button\">\n                    <span aria-hidden=\"true\">&#9650;</span>\n                    <span class=\"sr-only\">Vote up</span>\n                </button>\n                <button type=\"button\">\n                    <span aria-hidden=\"true\">&#9660;</span>\n                    <span class=\"sr-only\">Vote down</span>\n                </button>\n            </div>\n            <div class=\"comment-info\">\n                <a href=\"#\" class=\"comment-author\">{{item.username}}</a>\n            </div>\n        </div>\n\n        <div class=\"comment-body\">\n            <p>\n               {{item.comment}}\n            </p>\n        </div>\n\n    </div>\n    <!-- Comment 1 end -->\n    <hr>\n    </div>\n\n</div>\n\n<br><br>\n    <textarea\n            cols=\"50\"\n            rows=\"10\"\n            id:=\"comment-textbox\"\n            required\n            placeholder=\"Add your comment\"\n            v-model=\"commentsnew\"\n          />\n          <br><br>\n          <button @click=\"addcomment()\"> Add Comment</button>\n          <div v-if=\"this.nocommenterrot\" class=\"error\"> The comment cant be empty</div>\n</div>\n\n</template>\n\n<script>\nexport default {data () {\n\n  return {\n\n    comments: {},\n    commentsnew: null,\n    nocommenterrot: false\n\n\n  };\n\n},\nmethods: {\n  async addcomment () {\n\n    if (this.commentsnew === null) {\n\n      this.nocommenterrot = true;\n      return;\n\n    }\n    await fetch(\n      'http://localhost:8080/ticket-now/add-message',\n      {body: JSON.stringify({'message': {\n        'comment': this.commentsnew,\n        'userId': this.id,\n        'username': this.id,\n      },\n      'ticketId': this.ticketId}),\n      headers: {'Accept': 'application/json, text/plain',\n        'Content-Type': 'application/json;charset=UTF-8',\n        'ticketId': this.ticketId},\n      method: 'POST',\n      mode: 'cors'}\n    ).then((res) => res.json()).\n      then((data) => {\n\n        // eslint-disable-next-line\n                console.log(data);\n      }).\n      // eslint-disable-next-line\n        catch((error) => console.log(error));\n    this.fetchChat();\n    this.commentsnew = null;\n\n  },\n\n  async fetchChat () {\n\n    // eslint-disable-next-line\nconsole.log(this.ticket)\n\n    await fetch(\n      'http://localhost:8080/ticket-now/get-chats',\n      {headers: {'Accept': 'application/json, text/plain',\n        'Content-Type': 'application/json;charset=UTF-8',\n        'ticketId': this.ticketId},\n      method: 'get',\n      mode: 'cors'}\n    ).then((res) => res.json()).\n      then((data) => {\n\n        this.comments = data.message;\n        // eslint-disable-next-line\n      \n      }).\n      // eslint-disable-next-line\n        catch((error) => console.log(error));\n  },\n\n},\n\nmounted () {\n\n  // eslint-disable-next-line\n  console.log(this.id)+\" somethis???\";\n  this.fetchChat();\n\n},\nname: 'CommentsChat',\nprops: {\n\n  id: String,\n  ticket: Object,\n  ticketId: String\n\n}};\n\n\n</script>\n\n<style : scoped>\n\n* {\n    box-sizing: border-box;\n}\nbody {\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n    line-height: 1.4;\n    color: rgba(0, 0, 0, 0.85);\n    background-color: #f9f9f9;\n\n}\nbutton {\n    -moz-appearance: none;\n    -webkit-appearance: none;\n    appearance: none;\n    font-size: 14px;\n    padding: 4px 8px;\n    color: rgba(0, 0, 0, 0.85);\n    background-color: #fff;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 4px;\n}\nbutton:hover,\nbutton:focus,\nbutton:active {\n    cursor: pointer;\n    background-color: #ecf0f1;\n}\n.comment-thread {\n    width: 700px;\n    max-width: 100%;\n    margin: auto;\n    padding: 0 30px;\n    background-color: #fff;\n    border: 1px solid transparent; /* Removes margin collapse */\n}\n.m-0 {\n    margin: 0;\n}\n.sr-only {\n    position: absolute;\n    left: -10000px;\n    top: auto;\n    width: 1px;\n    height: 1px;\n    overflow: hidden;\n}\n\n/* Comment */\n\n.comment {\n    position: relative;\n    margin: 20px auto;\n}\n.comment-heading {\n    display: flex;\n    align-items: center;\n    height: 50px;\n    font-size: 14px;\n}\n.comment-voting {\n    width: 20px;\n    height: 32px;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 4px;\n}\n.comment-voting button {\n    display: block;\n    width: 100%;\n    height: 50%;\n    padding: 0;\n    border: 0;\n    font-size: 10px;\n}\n.comment-info {\n    color: rgba(0, 0, 0, 0.5);\n    margin-left: 10px;\n}\n.comment-author {\n    color: rgba(0, 0, 0, 0.85);\n    font-weight: bold;\n    text-decoration: none;\n}\n.comment-author:hover {\n    text-decoration: underline;\n}\n.replies {\n    margin-left: 20px;\n}\n\n.error{\n\n    color: red;\n}\n.comment-thread{\n    width: 50%;\n    height: 120px;\n    -moz-border-radius: 100px / 50px;\n    -webkit-border-radius: 100px / 178px;\n    border-radius: 30px / 20px;\n\n    z-index: 100;\n    position: relative;\n    background-color: rgb(73, 70, 70);\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}