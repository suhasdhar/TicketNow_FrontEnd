{"ast":null,"code":"export default {\n  data() {\n    return {\n      category: '',\n      create: null,\n      isadmin: null,\n      name: 'AdminPortal',\n      password: '',\n      userid: '',\n      username: '',\n      validuser: null\n    };\n  },\n\n  methods: {\n    async addusertodatabase() {\n      this.validate();\n\n      if (this.validuser) {\n        const user = {};\n        user.category = this.category;\n        user.isadmin = this.isadmin;\n        user.userid = this.userid;\n        user.username = this.username;\n        user.password = this.password;\n        await fetch('http://localhost:8080/ticket-now/auth/add-user', {\n          body: JSON.stringify({\n            'password': user.password,\n            'userId': user.userid,\n            'username': user.username\n          }),\n          headers: {\n            'Accept': 'application/json, text/plain',\n            'Content-Type': 'application/json;charset=UTF-8',\n            'category': user.category,\n            'isadmin': user.isadmin\n          },\n          method: 'POST',\n          mode: 'cors'\n        }).then(res => res.json()); // eslint-disable-next-line\n\n        console.log(user);\n      }\n    },\n\n    createUser() {\n      this.create = true;\n      this.userid = null;\n      this.validuser = null;\n    },\n\n    deleteUser() {\n      this.create = false;\n      this.userid = null;\n    },\n\n    // Async deleteuserfromdatabase () {\n\n    /*\n     *   Await fetch(\n     *     'http://localhost:8080/ticket-now/auth/validate-user',\n     *     {\n     *       headers: {'Accept': 'application/json, text/plain',\n     *         'Content-Type': 'application/json;charset=UTF-8',\n     *         'userid': this.userid},\n     *       method: 'Delete',\n     *       mode: 'cors'\n     *     }\n     *   ).then((res) => res.json());\n     */\n    // },\n    async validate() {\n      // eslint-disable-next-line\n      console.log(typeof this.userid);\n\n      if (this.userid === '') {\n        this.validuser = false;\n        return;\n      }\n\n      await fetch('http://localhost:8080/ticket-now/auth/delete-user', {\n        headers: {\n          'Accept': 'application/json, text/plain',\n          'Content-Type': 'application/json;charset=UTF-8',\n          'userid': this.userid\n        },\n        method: 'POST',\n        mode: 'cors'\n      }).then(res => res.json()).then(data => {\n        if (data) {\n          this.validuser = false; // eslint-disable-next-line\n\n          console.log(this.validuser);\n        } else {\n          this.validuser = true;\n        }\n      });\n    }\n\n  },\n\n  mounted() {\n    this.validuser = null;\n    this.create = null;\n  }\n\n};","map":{"version":3,"mappings":"AAwDA,eAAe;EAGbA,IAAG,GAAK;IAEN,OAAO;MACLC,QAAQ,EAAE,EADL;MAELC,MAAM,EAAE,IAFH;MAGLC,OAAO,EAAE,IAHJ;MAILC,IAAI,EAAE,aAJD;MAKLC,QAAQ,EAAE,EALL;MAMLC,MAAM,EAAE,EANH;MAOLC,QAAQ,EAAE,EAPL;MAQLC,SAAS,EAAE;IARN,CAAP;EAYD,CAjBY;;EAkBbC,OAAO,EAAE;IACP,MAAMC,iBAAN,GAA2B;MAEzB,KAAKC,QAAL;;MACA,IAAI,KAAKH,SAAT,EAAoB;QAElB,MAAMI,IAAG,GAAI,EAAb;QACAA,IAAI,CAACX,QAAL,GAAgB,KAAKA,QAArB;QACAW,IAAI,CAACT,OAAL,GAAe,KAAKA,OAApB;QACAS,IAAI,CAACN,MAAL,GAAc,KAAKA,MAAnB;QACAM,IAAI,CAACL,QAAL,GAAgB,KAAKA,QAArB;QACAK,IAAI,CAACP,QAAL,GAAgB,KAAKA,QAArB;QACA,MAAMQ,KAAK,CACT,gDADS,EAET;UACEC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;YACnB,YAAYJ,IAAI,CAACP,QADE;YAEnB,UAAUO,IAAI,CAACN,MAFI;YAGnB,YAAYM,IAAI,CAACL;UAHE,CAAf,CADR;UAMEU,OAAO,EAAE;YAAC,UAAU,8BAAX;YACP,gBAAgB,gCADT;YAEP,YAAYL,IAAI,CAACX,QAFV;YAGP,WAAWW,IAAI,CAACT;UAHT,CANX;UAUEe,MAAM,EAAE,MAVV;UAWEC,IAAI,EAAE;QAXR,CAFS,CAAL,CAeJC,IAfI,CAeEC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAfV,CAAN,CARkB,CA0BlB;;QACAC,OAAO,CAACC,GAAR,CAAYZ,IAAZ;MAEF;IAGD,CApCM;;IAqCPa,UAAS,GAAK;MAEZ,KAAKvB,MAAL,GAAc,IAAd;MACA,KAAKI,MAAL,GAAc,IAAd;MACA,KAAKE,SAAL,GAAiB,IAAjB;IAED,CA3CM;;IA4CPkB,UAAS,GAAK;MAEZ,KAAKxB,MAAL,GAAc,KAAd;MACA,KAAKI,MAAL,GAAc,IAAd;IAED,CAjDM;;IAkDP;;IAEA;;;;;;;;;;;;IAaA;IACA,MAAMK,QAAN,GAAkB;MAEhB;MACAY,OAAO,CAACC,GAAR,CAAY,OAAO,KAAKlB,MAAxB;;MACA,IAAI,KAAKA,MAAL,KAAgB,EAApB,EAAwB;QAEtB,KAAKE,SAAL,GAAiB,KAAjB;QACA;MAEF;;MACA,MAAMK,KAAK,CACT,mDADS,EAET;QACEI,OAAO,EAAE;UAAC,UAAU,8BAAX;UACP,gBAAgB,gCADT;UAEP,UAAU,KAAKX;QAFR,CADX;QAIEY,MAAM,EAAE,MAJV;QAKEC,IAAI,EAAE;MALR,CAFS,CAAL,CASJC,IATI,CASEC,GAAD,IAASA,GAAG,CAACC,IAAJ,EATV,EAUJF,IAVI,CAUEpB,IAAD,IAAU;QAEb,IAAIA,IAAJ,EAAU;UAER,KAAKQ,SAAL,GAAiB,KAAjB,CAFQ,CAGR;;UACCe,OAAO,CAACC,GAAR,CAAY,KAAKhB,SAAjB;QACH,CALA,MAKO;UAEL,KAAKA,SAAL,GAAiB,IAAjB;QAEF;MAED,CAvBG,CAAN;IA0BD;;EAtGM,CAlBI;;EA0HbmB,OAAM,GAAK;IAET,KAAKnB,SAAL,GAAiB,IAAjB;IACA,KAAKN,MAAL,GAAc,IAAd;EAED;;AA/HY,CAAf","names":["data","category","create","isadmin","name","password","userid","username","validuser","methods","addusertodatabase","validate","user","fetch","body","JSON","stringify","headers","method","mode","then","res","json","console","log","createUser","deleteUser","mounted"],"sourceRoot":"","sources":["/Users/suhasdhar/Desktop/Development/TicketNow_front/ticket_now/src/components/AdminPortal.vue"],"sourcesContent":["<template>\n<div>\nAdmin Portal\n <br>\n\n<div > <button @click=\"this.createUser()\" >Create a user</button> <button @click=\"this.deleteUser()\">Delete a user</button> <br><br><br> </div>\n\n <!-- creating a user -->\n<div v-if=\"this.create\">\n\n\n<input type=\"text\"  value=\"Username\" disabled> <input type=\"Textbox\"  placeholder=\"Full Name\"  v-model=\"this.username\" name=\"\" id=\"\"><br>\n\n<input type=\"text\"  value=\"Userid\" disabled > <input type=\"Textarea\" @change=\"validate()\" placeholder=\"Alphanumeric without space\"  v-model=\"this.userid\" name=\"\" id=\"\"> <br>\n<div v-if=\"this.validuser!=null && !this.validuser\" id=\"alert\"> The userid already exists <br></div>\n<div v-if=\"this.validuser!=null && this.validuser\" id=\"green\"> Valid Userid <br></div>\n<input   type=\"text\"  value=\"Category\" disabled >\n\n<select id=\"Category\" name=\"category\" v-model=\"this.category\">\n    <option value=\"Hardware\">Hardware</option>\n    <option value=\"Software\">Software</option>\n    <option value=\"Operations\">Operations</option>\n    <option value=\"Human Resources\">Human Resources</option>\n    <option value=\"Human Resources\">User</option>\n\n</select> <br >\n<input   type=\"text\"  value=\"Is Admin\" disabled >\n<select id=\"Category\" name=\"category\" v-model=\"this.isadmin\">\n    <option value=\"Yes\">Yes</option>\n    <option value=\"No\">No</option>\n</select>\n<br>\n<input  type=\"text\" value=\"Password\" disabled >\n\n<input type=\"password\" v-model=\"this.password\"> <br>\n<br>\n<button @click=\"this.addusertodatabase()\"> Submit</button>\n\n</div>\n\n<!-- deleting a user -->\n<div v-if=\"(this.create===false)\">\n   <input type=\"text\" value=\"userid\" disabled>  <input type=\"text\" v-model=\"this.userid\" >\n\n   <br>\n\n   <div v-if=\"!this.validuser\" id=\"alert\"> invalid user</div>\n   <button  >delete user</button>\n\n</div>\n<br>\n<button @click=\"$emit('AdminPortalValue',false)\"> Back </button>\n\n    </div>\n</template>\n<script>\nexport default {\n\n\n  data () {\n\n    return {\n      category: '',\n      create: null,\n      isadmin: null,\n      name: 'AdminPortal',\n      password: '',\n      userid: '',\n      username: '',\n      validuser: null\n\n    };\n\n  },\n  methods: {\n    async addusertodatabase () {\n\n      this.validate();\n      if (this.validuser) {\n\n        const user = {};\n        user.category = this.category;\n        user.isadmin = this.isadmin;\n        user.userid = this.userid;\n        user.username = this.username;\n        user.password = this.password;\n        await fetch(\n          'http://localhost:8080/ticket-now/auth/add-user',\n          {\n            body: JSON.stringify({\n              'password': user.password,\n              'userId': user.userid,\n              'username': user.username,\n            }),\n            headers: {'Accept': 'application/json, text/plain',\n              'Content-Type': 'application/json;charset=UTF-8',\n              'category': user.category,\n              'isadmin': user.isadmin},\n            method: 'POST',\n            mode: 'cors'\n          }\n        ).then((res) => res.json());\n\n\n        // eslint-disable-next-line\n        console.log(user);\n\n      }\n\n\n    },\n    createUser () {\n\n      this.create = true;\n      this.userid = null;\n      this.validuser = null;\n\n    },\n    deleteUser () {\n\n      this.create = false;\n      this.userid = null;\n\n    },\n    // Async deleteuserfromdatabase () {\n\n    /*\n     *   Await fetch(\n     *     'http://localhost:8080/ticket-now/auth/validate-user',\n     *     {\n     *       headers: {'Accept': 'application/json, text/plain',\n     *         'Content-Type': 'application/json;charset=UTF-8',\n     *         'userid': this.userid},\n     *       method: 'Delete',\n     *       mode: 'cors'\n     *     }\n     *   ).then((res) => res.json());\n     */\n\n    // },\n    async validate () {\n\n      // eslint-disable-next-line\n      console.log(typeof this.userid)\n      if (this.userid === '') {\n\n        this.validuser = false;\n        return;\n\n      }\n      await fetch(\n        'http://localhost:8080/ticket-now/auth/delete-user',\n        {\n          headers: {'Accept': 'application/json, text/plain',\n            'Content-Type': 'application/json;charset=UTF-8',\n            'userid': this.userid},\n          method: 'POST',\n          mode: 'cors'\n        }\n      ).then((res) => res.json()).\n        then((data) => {\n\n          if (data) {\n\n            this.validuser = false;\n            // eslint-disable-next-line\n             console.log(this.validuser)\n          } else {\n\n            this.validuser = true;\n\n          }\n\n        });\n\n\n    },\n  },\n  mounted () {\n\n    this.validuser = null;\n    this.create = null;\n\n  },\n};\n\n</script>\n<style scoped>\ninput{\n\n  width : 200px;\n}\nselect{\n\nwidth : 200px;\n}\n#validate{\n    width:60px\n}\nbutton{\n\nwidth : 200px;\n}\ntable{\n  border: solid;\n align-content: center;\n}\ntd {\n  border: 1px solid black;\n  width: 100px;\n  height:10px;\n  max-width: 600px;\n overflow: hidden;\n text-overflow: ellipsis;\n white-space: nowrap;\n padding: 10px;\n}\n\n#row:hover {\n  cursor: pointer;\n  background-color: rgb(180, 213, 243)\n}\n#back:hover {\n  cursor: pointer;\n  background-color: rgb(180, 213, 243)\n}\n#alert{\n  color: red;\n}\n#green{\n  color: rgb(2, 113, 2);\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}