{"ast":null,"code":"import CommentsChat from './CommentsChat.vue';\nexport default {\n  components: {\n    CommentsChat\n  },\n\n  data() {\n    return {\n      deleted: false,\n      editing: false,\n      listOfWorkers: [],\n      saved: false,\n      temp: {}\n    };\n  },\n\n  methods: {\n    async del() {\n      await fetch('http://localhost:8080/ticket-now/delete-a-ticket', {\n        body: JSON.stringify({}),\n        headers: {\n          'Accept': 'application/json, text/plain',\n          'Content-Type': 'application/json;charset=UTF-8',\n          'ticketId': this.ticket.ticketId\n        },\n        method: 'Delete',\n        mode: 'cors'\n      }).then(() => {\n        // eslint-disable-next-line\n        console.log(this.ticket.ticketId);\n      });\n      this.deleted = true;\n    },\n\n    editOn() {\n      this.editing = true;\n      this.deleted = false;\n      this.temp = JSON.parse(JSON.stringify(this.ticket)); // eslint-disable-next-line\n\n      console.log(this.ticket);\n    },\n\n    async getServers() {\n      this.listOfWorkers = [];\n      await fetch('http://localhost:8080/categories/find-user-by-category', {\n        headers: {\n          'Accept': 'application/json, text/plain',\n          'Content-Type': 'application/json;charset=UTF-8',\n          'category': this.temp.category\n        },\n        method: 'GET',\n        mode: 'cors'\n      }).then(res => res.json()).then(data => {\n        // eslint-disable-next-line guard-for-in\n        for (const obj in data) {\n          // eslint-disable-next-line\n          this.listOfWorkers.push(data[obj].username);\n        }\n      });\n    },\n\n    async save() {\n      await fetch('http://localhost:8080/ticket-now/edit-a-ticket', {\n        body: JSON.stringify(this.temp),\n        headers: {\n          'Accept': 'application/json, text/plain',\n          'Content-Type': 'application/json;charset=UTF-8'\n        },\n        method: 'PATCH',\n        mode: 'cors'\n      });\n      this.editing = false;\n      this.saved = true; // eslint-disable-next-line\n\n      console.log(this.editing + \" \" + this.saved);\n    }\n\n  },\n\n  mounted() {// eslint-disable-next-line\n    // eslint-disable-next-line\n  },\n\n  name: 'LoadTicket',\n  props: {\n    isadmin: Boolean,\n    ticket: Object\n  }\n};","map":{"version":3,"mappings":"AA+DA,OAAOA,YAAP,MAAyB,oBAAzB;AACA,eAAe;EACbC,UAAU,EAAE;IACVD;EADU,CADC;;EAIbE,IAAG,GAAK;IAEN,OAAO;MACLC,OAAO,EAAE,KADJ;MAELC,OAAO,EAAE,KAFJ;MAGLC,aAAa,EAAE,EAHV;MAILC,KAAK,EAAE,KAJF;MAKLC,IAAI,EAAE;IALD,CAAP;EAUD,CAhBY;;EAkBbC,OAAO,EAAE;IACP,MAAMC,GAAN,GAAa;MAEX,MAAMC,KAAK,CACT,kDADS,EAET;QAACC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,EAAf,CAAP;QAEAC,OAAO,EAAE;UAAC,UAAU,8BAAX;UACP,gBAAgB,gCADT;UAEP,YAAY,KAAKC,MAAL,CAAYC;QAFjB,CAFT;QAMAC,MAAM,EAAE,QANR;QAOAC,IAAI,EAAE;MAPN,CAFS,CAAL,CAUJC,IAVI,CAUC,MAAM;QAEX;QACRC,OAAO,CAACC,GAAR,CAAY,KAAKN,MAAL,CAAYC,QAAxB;MACO,CAdK,CAAN;MAeA,KAAKb,OAAL,GAAe,IAAf;IAED,CApBM;;IAqBPmB,MAAK,GAAK;MAER,KAAKlB,OAAL,GAAe,IAAf;MACA,KAAKD,OAAL,GAAe,KAAf;MACA,KAAKI,IAAL,GAAYK,IAAI,CAACW,KAAL,CAAWX,IAAI,CAACC,SAAL,CAAe,KAAKE,MAApB,CAAX,CAAZ,CAJQ,CAKR;;MACNK,OAAO,CAACC,GAAR,CAAY,KAAKN,MAAjB;IACK,CA5BM;;IA6BP,MAAMS,UAAN,GAAoB;MAElB,KAAKnB,aAAL,GAAqB,EAArB;MACA,MAAMK,KAAK,CACT,wDADS,EAET;QAACI,OAAO,EAAE;UAAC,UAAU,8BAAX;UACR,gBAAgB,gCADR;UAER,YAAY,KAAKP,IAAL,CAAUkB;QAFd,CAAV;QAIAR,MAAM,EAAE,KAJR;QAKAC,IAAI,EAAE;MALN,CAFS,CAAL,CAQJC,IARI,CAQEO,GAAD,IAASA,GAAG,CAACC,IAAJ,EARV,EASJR,IATI,CASEjB,IAAD,IAAU;QAEb;QACA,KAAK,MAAM0B,GAAX,IAAkB1B,IAAlB,EAAwB;UAEtB;UACA,KAAKG,aAAL,CAAmBwB,IAAnB,CAAwB3B,IAAI,CAAC0B,GAAD,CAAJ,CAAUE,QAAlC;QAEF;MAGD,CApBG,CAAN;IAsBD,CAtDM;;IAuDP,MAAMC,IAAN,GAAc;MAEZ,MAAMrB,KAAK,CACT,gDADS,EAET;QAACC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,KAAKN,IAApB,CAAP;QACEO,OAAO,EAAE;UAAC,UAAU,8BAAX;UACP,gBAAgB;QADT,CADX;QAIEG,MAAM,EAAE,OAJV;QAKEC,IAAI,EAAE;MALR,CAFS,CAAX;MASA,KAAKd,OAAL,GAAe,KAAf;MACA,KAAKE,KAAL,GAAa,IAAb,CAZY,CAaZ;;MACAc,OAAO,CAACC,GAAR,CAAY,KAAKjB,OAAL,GAAa,GAAb,GAAiB,KAAKE,KAAlC;IAEF;;EAvEO,CAlBI;;EA4Fb0B,OAAM,GAAK,CAET;IACJ;EAEG,CAjGY;;EAkGbC,IAAI,EAAE,YAlGO;EAqGbC,KAAK,EAAE;IACLC,OAAO,EAAEC,OADJ;IAELrB,MAAM,EAAEsB;EAFH;AArGM,CAAf","names":["CommentsChat","components","data","deleted","editing","listOfWorkers","saved","temp","methods","del","fetch","body","JSON","stringify","headers","ticket","ticketId","method","mode","then","console","log","editOn","parse","getServers","category","res","json","obj","push","username","save","mounted","name","props","isadmin","Boolean","Object"],"sourceRoot":"","sources":["/Users/suhasdhar/Desktop/Development/TicketNow_front/ticket_now/src/components/LoadTicket.vue"],"sourcesContent":["<template>\n<div >\n\n<div v-if=\"!deleted\">\n<div v-if=\" saved && !editing \"> <h1>SAVED</h1> </div>\n<div v-else-if=\"!editing\"><table align=\"center\" >\n<tr v-for=\"(item,index) in this.ticket\" :key=\"index\"> <td> {{index}}</td> <td id=\"elaborate\">{{item}}</td></tr>\n</table>\n<!--  will add comments section here -->\n<div>\n    Chat here\n</div>\n\n</div>\n\n<div id=\"editing\" v-else-if=\"editing\">\n<input id=\"left\" type=\"text\"  value=\"Title\" disabled>  <input id=\"right\" type=\"Textbox\"  placeholder=\"title\" v-model=\"this.temp.title\" name=\"\" ><br>\n<input type=\"text\" id=\"left\"  value=\"Description\" disabled > <input type=\"Textarea\"  placeholder=\"description\"  v-model=\"this.temp.description\" name=\"\" id=\"description\"><br  v-if=\"this.isadmin===true\">\n\n<input id=\"left\" v-if=\"this.isadmin===true\" type=\"text\"  value=\"Status\" disabled >\n<select v-if=\"this.isadmin===true\" id=\"right\" name=\"status\" v-model=\"this.temp.status\" >\n    <option value=\"New\">New</option>\n    <option value=\"Work in Progress\">Work in Progress</option>\n    <option value=\"Completed\">Completed</option>\n</select> <br v-if=\"this.isadmin===true\">\n\n\n<input id=\"left\" v-if=\"this.isadmin===true\" type=\"text\"  value=\"Category\" disabled >\n<select v-if=\"this.isadmin===true\" id=\"right\" name=\"category\" v-model=\"this.temp.category\"  @change=\"getServers()\">\n    <option value=\"Hardware\">Hardware</option>\n    <option value=\"Software\">Software</option>\n    <option value=\"Operations\">Operations</option>\n    <option value=\"Human Resources\">Human Resources</option>\n\n\n</select> <br v-if=\"this.isadmin===true\">\n<input id=\"left\" v-if=\"this.isadmin===true\" type=\"text\" value=\"Priority\" disabled >\n\n<select v-if=\"this.isadmin===true\" id=\"right\" name=\"priority\" v-model=\"this.temp.priority\">\n    <option value=\"P1\">P1</option>\n    <option value=\"P2\">P2</option>\n    <option value=\"P3\">P3</option>\n    <option value=\"P4\">P4</option>\n  </select> <br>\n  <input id=\"left\" v-if=\"this.isadmin===true\" type=\"text\" value=\"Assigned To\" disabled >\n\n<select  v-if=\"this.isadmin===true\" id=\"right\" name=\"Assignd\" v-model=\"this.temp.idof_assignedTo\">\n    <option v-for=\"item in this.listOfWorkers\" :value=\"item\" :key=\"item\">{{item}}</option>\n  </select> <br>\n\n\n  <span id='edit' @click=\"save()\">Save</span>\n\n</div>\n<span id='delete' @click=\"del()\">Delete</span> <br>\n<span id='edit' @click=\"editOn()\">Edit</span>\n</div>\n\n<div v-else-if=\"deleted\"> <h1>Ticket Deleted </h1></div>\n\n    </div>\n</template>\n<script>\nimport CommentsChat from './CommentsChat.vue';\nexport default {\n  components: {\n    CommentsChat\n  },\n  data () {\n\n    return {\n      deleted: false,\n      editing: false,\n      listOfWorkers: [],\n      saved: false,\n      temp: {},\n\n\n    };\n\n  },\n\n  methods: {\n    async del () {\n\n      await fetch(\n        'http://localhost:8080/ticket-now/delete-a-ticket',\n        {body: JSON.stringify({\n        }),\n        headers: {'Accept': 'application/json, text/plain',\n          'Content-Type': 'application/json;charset=UTF-8',\n          'ticketId': this.ticket.ticketId},\n\n        method: 'Delete',\n        mode: 'cors'}\n      ).then(() => {\n\n        // eslint-disable-next-line\nconsole.log(this.ticket.ticketId)\n      });\n      this.deleted = true;\n\n    },\n    editOn () {\n\n      this.editing = true;\n      this.deleted = false;\n      this.temp = JSON.parse(JSON.stringify(this.ticket));\n      // eslint-disable-next-line\nconsole.log(this.ticket)\n    },\n    async getServers () {\n\n      this.listOfWorkers = [];\n      await fetch(\n        'http://localhost:8080/categories/find-user-by-category',\n        {headers: {'Accept': 'application/json, text/plain',\n          'Content-Type': 'application/json;charset=UTF-8',\n          'category': this.temp.category},\n\n        method: 'GET',\n        mode: 'cors'}\n      ).then((res) => res.json()).\n        then((data) => {\n\n          // eslint-disable-next-line guard-for-in\n          for (const obj in data) {\n\n            // eslint-disable-next-line\n            this.listOfWorkers.push(data[obj].username)\n\n          }\n\n\n        });\n\n    },\n    async save () {\n\n      await fetch(\n        'http://localhost:8080/ticket-now/edit-a-ticket',\n        {body: JSON.stringify(this.temp),\n          headers: {'Accept': 'application/json, text/plain',\n            'Content-Type': 'application/json;charset=UTF-8'},\n\n          method: 'PATCH',\n          mode: 'cors'}\n      );\n      this.editing = false;\n      this.saved = true;\n      // eslint-disable-next-line\n      console.log(this.editing+\" \"+this.saved)\n\n    }\n  },\n\n  mounted () {\n\n    // eslint-disable-next-line\n// eslint-disable-next-line\n\n  },\n  name: 'LoadTicket',\n\n\n  props: {\n    isadmin: Boolean,\n    ticket: Object\n\n  },\n};\n\n</script>\n\n<style>\ntd{\n  border: 1px solid black;\n  width: 400px;\n  height:10px;\n  max-width: 600px;\n overflow: hidden;\n text-overflow: ellipsis;\n padding: 10px;\n}\n#edit:hover{\n  cursor: pointer;\n  background-color: rgb(180, 213, 243)\n}\n#delete:hover{\n  cursor: pointer;\n  background-color: rgb(239, 16, 16)\n}\n#description{\n  width: 270px;\n  max-width: 270px;\n overflow: hidden;\n text-overflow: ellipsis;\n float: right;\n}\n\n#description:focus{\n\n  width: 400px;\n  overflow-wrap: normal;\n  margin-right: 1px;\n}\n#editing{\n  margin: auto;\n  width: 40%;\n}\n#left{\n  float: left;\n}\n#right{\n  float: right;\n  width:270px;\n  max-width: 270px;\n\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}