{"ast":null,"code":"import LoadTicket from './LoadTicket.vue';\nexport default {\n  components: {\n    LoadTicket\n  },\n\n  data() {\n    return {\n      category: '',\n      creationDone: false,\n      description: '',\n      fetched: '',\n      priority: '',\n      rawTicket: {\n        'description': '',\n        'priority': '',\n        'title': ''\n      },\n      selected: '',\n      title: '',\n      viewTicket: false\n    };\n  },\n\n  name: 'CreateTicket',\n  props: {\n    id: String,\n    msg: String,\n    role: String\n  },\n  // eslint-disable-next-line sort-keys\n  methods: {\n    back() {\n      this.viewTicket = false;\n    },\n\n    async create() {\n      this.rawTicket.title = this.title;\n      this.rawTicket.description = this.description;\n      this.rawTicket.priority = this.priority; // eslint-disable-next-line\n\n      console.log(typeof this.priority);\n      await fetch('http://localhost:8080/ticket-now/add-new-ticket', {\n        body: JSON.stringify({\n          'description': this.description,\n          'idof_createdBy': this.id,\n          'priority': this.priority,\n          'title': this.title\n        }),\n        headers: {\n          'Accept': 'application/json, text/plain',\n          'Content-Type': 'application/json;charset=UTF-8'\n        },\n        method: 'POST',\n        mode: 'cors'\n      }).then(res => res.json()). // eslint-disable-next-line\n      catch(error => console.log(error));\n      this.creationDone = true;\n    },\n\n    async gettickets() {\n      await fetch('http://localhost:8080/ticket-now/fetch-all-tickets', {\n        headers: {\n          'Accept': 'application/json,text/plain',\n          'Content-Type': 'application/json;charset=UTF-8',\n          'userid': this.id\n        },\n        method: 'POST',\n        mode: 'cors'\n      }).then(res => res.json()).then(data => {\n        this.fetched = data;\n      }).catch(error => {\n        // eslint-disable-next-line\n        console.log(error);\n      });\n    },\n\n    view(item) {\n      this.selected = item;\n      this.viewTicket = true; // eslint-disable-next-line\n\n      console.log(this.selected);\n    }\n\n  },\n\n  mounted() {\n    if (this.msg === 'view') {\n      // eslint-disable-next-line\n      this.gettickets();\n      this.viewTicket = false;\n    } // eslint-disable-next-line\n\n\n    console.log(this.role);\n  }\n\n};","map":{"version":3,"mappings":"AA0CA,OAAOA,UAAP,MAAuB,kBAAvB;AACA,eAAe;EACbC,UAAU,EAAE;IACVD;EADU,CADC;;EAIbE,IAAG,GAAK;IAEN,OAAO;MACLC,QAAQ,EAAE,EADL;MAELC,YAAY,EAAE,KAFT;MAGLC,WAAW,EAAE,EAHR;MAILC,OAAO,EAAE,EAJJ;MAKLC,QAAQ,EAAE,EALL;MAMLC,SAAS,EAAE;QAAC,eAAe,EAAhB;QACT,YAAY,EADH;QAET,SAAS;MAFA,CANN;MASLC,QAAQ,EAAE,EATL;MAULC,KAAK,EAAE,EAVF;MAWLC,UAAU,EAAE;IAXP,CAAP;EAeD,CArBY;;EAsBbC,IAAI,EAAE,cAtBO;EAuBbC,KAAK,EAAE;IACLC,EAAE,EAAEC,MADC;IAELC,GAAG,EAAED,MAFA;IAGLE,IAAI,EAAEF;EAHD,CAvBM;EA6Bb;EACAG,OAAO,EAAE;IACPC,IAAG,GAAK;MAEN,KAAKR,UAAL,GAAkB,KAAlB;IAED,CALM;;IAMP,MAAMS,MAAN,GAAgB;MAEd,KAAKZ,SAAL,CAAeE,KAAf,GAAuB,KAAKA,KAA5B;MACA,KAAKF,SAAL,CAAeH,WAAf,GAA6B,KAAKA,WAAlC;MACA,KAAKG,SAAL,CAAeD,QAAf,GAA0B,KAAKA,QAA/B,CAJc,CAMd;;MACAc,OAAO,CAACC,GAAR,CAAY,OAAO,KAAKf,QAAxB;MACA,MAAMgB,KAAK,CACT,iDADS,EAET;QAACC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;UACpB,eAAe,KAAKrB,WADA;UAEpB,kBAAkB,KAAKS,EAFH;UAGpB,YAAY,KAAKP,QAHG;UAIpB,SAAS,KAAKG;QAJM,CAAf,CAAP;QAMAiB,OAAO,EAAE;UAAC,UAAU,8BAAX;UACP,gBAAgB;QADT,CANT;QAQAC,MAAM,EAAE,MARR;QASAC,IAAI,EAAE;MATN,CAFS,CAAL,CAYJC,IAZI,CAYEC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAZV,GAaN;MACEC,KAdI,CAcGC,KAAD,IAAWb,OAAO,CAACC,GAAR,CAAYY,KAAZ,CAdb,CAAN;MAeA,KAAK9B,YAAL,GAAoB,IAApB;IAED,CA/BM;;IAgCP,MAAM+B,UAAN,GAAoB;MAElB,MAAMZ,KAAK,CACT,oDADS,EAET;QACEI,OAAO,EAAE;UAAC,UAAU,6BAAX;UACP,gBAAgB,gCADT;UAEP,UAAU,KAAKb;QAFR,CADX;QAIEc,MAAM,EAAE,MAJV;QAKEC,IAAI,EAAE;MALR,CAFS,CAAL,CASJC,IATI,CASEC,GAAD,IAASA,GAAG,CAACC,IAAJ,EATV,EAUJF,IAVI,CAUE5B,IAAD,IAAU;QAGb,KAAKI,OAAL,GAAeJ,IAAf;MAED,CAfG,EAgBJ+B,KAhBI,CAgBGC,KAAD,IAAW;QAEf;QACAb,OAAO,CAACC,GAAR,CAAYY,KAAZ;MACD,CApBG,CAAN;IAsBD,CAxDM;;IAyDPE,IAAG,CAAGC,IAAH,EAAS;MAEV,KAAK5B,QAAL,GAAgB4B,IAAhB;MACA,KAAK1B,UAAL,GAAkB,IAAlB,CAHU,CAIV;;MACAU,OAAO,CAACC,GAAR,CAAY,KAAKb,QAAjB;IAED;;EAhEM,CA9BI;;EAiGb6B,OAAM,GAAK;IAET,IAAI,KAAKtB,GAAL,KAAa,MAAjB,EAAyB;MAEvB;MACA,KAAKmB,UAAL;MACA,KAAKxB,UAAL,GAAkB,KAAlB;IAEF,CARS,CAST;;;IACAU,OAAO,CAACC,GAAR,CAAY,KAAKL,IAAjB;EAED;;AA7GY,CAAf","names":["LoadTicket","components","data","category","creationDone","description","fetched","priority","rawTicket","selected","title","viewTicket","name","props","id","String","msg","role","methods","back","create","console","log","fetch","body","JSON","stringify","headers","method","mode","then","res","json","catch","error","gettickets","view","item","mounted"],"sourceRoot":"","sources":["/Users/suhasdhar/Desktop/Development/TicketNow_front/ticket_now/src/components/CreateTicket.vue"],"sourcesContent":["<template>\n<div>\n<!--if the msg prop is create the below code renders-->\n<div  v-if=\"this.msg==='create' && !creationDone\">\n<input type=\"text\"  value=\"Title\" disabled> <input type=\"Textbox\"  placeholder=\"title\"  v-model=\"title\" name=\"\" id=\"\"><br>\n<input type=\"text\"  value=\"Description\" disabled > <input type=\"Textbox\"  placeholder=\"description\"  v-model=\"description\" name=\"\" id=\"\"><br  v-if=\"this.role==='admin'\"><br>\n<input  v-if=\"this.role==='ROLE_USER'\" type=\"text\"  value=\"Category\" disabled >\n<select v-if=\"this.role==='ROLE_USER'\" id=\"Category\" name=\"category\" v-model=\"category\">\n    <option value=\"Hardware\">Hardware</option>\n    <option value=\"Software\">Software</option>\n    <option value=\"Operations\">Operations</option>\n    <option value=\"Human Resources\">Human Resources</option>\n</select> <br v-if=\"this.role==='ROLE_USER'\">\n<input type=\"text\" value=\"Priority\" disabled >\n<select id=\"Category\" name=\"priority\" v-model=\"priority\">\n    <option value=\"P1\">P1</option>\n    <option value=\"P2\">P2</option>\n    <option value=\"P3\">P3</option>\n    <option value=\"P4\">P4</option>\n  </select> <br>\n<!-- <input type=\"text\"  value=\"Creation Date\" disabled > <input type=\"Date\"  placeholder=\"creationDate\"  v-model=\"creationDate\" name=\"\" id=\"\"><br>\n<input type=\"text\"  value=\"Creation time\" disabled > <input type=\"Time\"  placeholder=\"creationTime\"  v-model=\"creationTime\" name=\"\" id=\"\"><br> -->\n<button @click=\"create()\">Submit</button>\n</div>\n\n<div  v-else-if=\"this.msg==='create' && creationDone\"> Ticket created click on view ticket to see it</div>\n\n<div v-else>\n  <table v-if=\"!this.viewTicket\">\n  <tr> <th>Ticket ID</th> <th>Title</th><th>Status</th><th>Description</th></tr>\n  <tr id='row' v-for=\"(item) in fetched\" :key=\"item.userid\" @click=\"view(item)\"> <td>{{item.ticketId}} </td><td>{{item.title}} </td><td>{{item.status}} </td> <td>{{item.description}} </td></tr>\n  </table>\n  <div v-else>\n    <span id='back' @click=\"back()\">Back</span>\n    <LoadTicket :ticket=\"this.selected\"/>\n  </div>\n</div>\n\n</div>\n</template>\n\n<script>\nimport LoadTicket from './LoadTicket.vue';\nexport default {\n  components: {\n    LoadTicket\n  },\n  data () {\n\n    return {\n      category: '',\n      creationDone: false,\n      description: '',\n      fetched: '',\n      priority: '',\n      rawTicket: {'description': '',\n        'priority': '',\n        'title': ''},\n      selected: '',\n      title: '',\n      viewTicket: false,\n\n    };\n\n  },\n  name: 'CreateTicket',\n  props: {\n    id: String,\n    msg: String,\n    role: String,\n\n  },\n  // eslint-disable-next-line sort-keys\n  methods: {\n    back () {\n\n      this.viewTicket = false;\n\n    },\n    async create () {\n\n      this.rawTicket.title = this.title;\n      this.rawTicket.description = this.description;\n      this.rawTicket.priority = this.priority;\n\n      // eslint-disable-next-line\n      console.log(typeof this.priority);\n      await fetch(\n        'http://localhost:8080/ticket-now/add-new-ticket',\n        {body: JSON.stringify({\n          'description': this.description,\n          'idof_createdBy': this.id,\n          'priority': this.priority,\n          'title': this.title,\n        }),\n        headers: {'Accept': 'application/json, text/plain',\n          'Content-Type': 'application/json;charset=UTF-8'},\n        method: 'POST',\n        mode: 'cors'}\n      ).then((res) => res.json()).\n      // eslint-disable-next-line\n        catch((error) => console.log(error));\n      this.creationDone = true;\n\n    },\n    async gettickets () {\n\n      await fetch(\n        'http://localhost:8080/ticket-now/fetch-all-tickets',\n        {\n          headers: {'Accept': 'application/json,text/plain',\n            'Content-Type': 'application/json;charset=UTF-8',\n            'userid': this.id},\n          method: 'POST',\n          mode: 'cors'\n        }\n      ).then((res) => res.json()).\n        then((data) => {\n\n\n          this.fetched = data;\n\n        }).\n        catch((error) => {\n\n          // eslint-disable-next-line\n          console.log(error);\n        });\n\n    },\n    view (item) {\n\n      this.selected = item;\n      this.viewTicket = true;\n      // eslint-disable-next-line\n      console.log(this.selected)\n\n    },\n\n  },\n  mounted () {\n\n    if (this.msg === 'view') {\n\n      // eslint-disable-next-line\n      this.gettickets();\n      this.viewTicket = false;\n\n    }\n    // eslint-disable-next-line\n    console.log(this.role)\n\n  },\n};\n\n</script>\n\n<style scoped>\ninput{\n\n  width : 200px;\n}\nselect{\n\nwidth : 200px;\n}\nbutton{\n\nwidth : 200px;\n}\ntable{\n  border: solid;\n align-content: center;\n}\ntd {\n  border: 1px solid black;\n  width: 100px;\n  height:10px;\n  max-width: 600px;\n overflow: hidden;\n text-overflow: ellipsis;\n white-space: nowrap;\n padding: 10px;\n}\n\n#row:hover {\n  cursor: pointer;\n  background-color: rgb(180, 213, 243)\n}\n#back:hover {\n  cursor: pointer;\n  background-color: rgb(180, 213, 243)\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}